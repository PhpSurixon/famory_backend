<?phpnamespace App\Http\Middleware;use Closure;use Illuminate\Support\Facades\Auth;use App\Models\BlockUser;class CheckBlocked{    /**     * Handle an incoming request.     *     * @param  \Illuminate\Http\Request  $request     * @param  \Closure  $next     * @return mixed     */    public function handle($request, Closure $next)    {        $currentUserId = auth()->user()->id;            $blockedUserIds = BlockUser::where('user_id', $currentUserId)->where('block', true)->pluck('marked_user_id')->toArray();            $request->attributes->set('blocked_user_ids', $blockedUserIds);            return $next($request);    }}